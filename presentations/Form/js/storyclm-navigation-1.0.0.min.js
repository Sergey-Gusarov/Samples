var StoryCLMNavigation = function(t) {
    if (!(this instanceof StoryCLMNavigation)) return new StoryCLMNavigation(treshold);
    var i = this;
    t = t || {}, this.isSwipeAllBlock = !1, this.isSwipePrevBlock = !1, this.isSwipeNextBlock = !1;
    var e = document.querySelector('meta[name="clm-swipe-next"]').getAttribute("content"),
        o = document.querySelector('meta[name="clm-swipe-previous"]').getAttribute("content"),
        n = document.body,
        s = 0;
    this.swObj = new Hammer(n), this.swObj.get("pan").set({
        threshold: t.threshold || 200,
        pointers: t.swipePointsCount || 1
    }), this.swObj.on("panleft", function() {
        return i.isSwipeAllBlock || i.isSwipeNextBlock || i.isEmptyMeta(e) ? !1 : void(s = 1)
    }), this.swObj.on("panright", function() {
        return i.isSwipeAllBlock || i.isSwipePrevBlock || i.isEmptyMeta(o) ? !1 : void(s = 2)
    }), this.swObj.on("panend", function() {
        1 == s ? (s = 0, i.onSwipeNext(e)) : 2 == s && (s = 0, i.onSwipePrev(o))
    })
};
StoryCLMNavigation.prototype = {
    block: function(t) {
        var i = this;
        t === !0 ? i.isSwipeAllBlock = t : setTimeout(function() {
            i.isSwipeAllBlock = !1
        }, 50)
    },
    blockNext: function(t) {
        var i = this;
        t === !0 ? i.isSwipeNextBlock = t : setTimeout(function() {
            i.isSwipeNextBlock = !1
        }, 50)
    },
    blockPrev: function(t) {
        var i = this;
        t === !0 ? i.isSwipePrevBlock = t : setTimeout(function() {
            i.isSwipePrevBlock = !1
        }, 50)
    },
    blockSwipe: function() {
        this.swObj.stop()
    },
    isEmptyMeta: function(t) {
        return !t.length
    },
    onSwipeNext: function(t) {
        window.location = t
    },
    onSwipePrev: function(t) {
        window.location = t
    }
};