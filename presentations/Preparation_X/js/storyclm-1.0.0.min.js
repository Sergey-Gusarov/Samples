function StoryCLMApiMessage(e){if(!(this instanceof StoryCLMApiMessage))return new StoryCLMApiMessage(e);try{e?(this.status=e.Status,this.errorCode=e.ErrorCode,this.errorMessage=e.ErrorMessage,this.data=e.Data):(this.status="error",this.errorCode=-2,this.errorMessage="Data is empty.",this.data={})}catch(t){this.status="error",this.errorCode=-1,this.errorMessage=t.message,this.data={}}}!function(){function e(e){c=e.createElement("iframe"),c.style.display="none",e.documentElement.appendChild(c)}function t(){return n(4)+n(2)+n(2)+n(2)+n(6)}function n(e){for(var t="",n=0;e>n;n++){var o=parseInt(256*Math.random(),10).toString(16);1==o.length&&(o="0"+o),t+=o}return t}function o(e,n,o){var r={Command:e,Data:n};if(o){var i="GUID_"+y++ +t();u[i]=o,r.GUID=i}f.push(r),c.src=M+":"+g}function r(){var e=JSON.stringify(f);return f=[],e}function i(e){setTimeout(function(){if(e){var t=JSON.parse(e);if(t.GUID){var n=u[t.GUID];"function"==typeof n&&(n(t),delete u[t.GUID])}}},1)}function a(){return s}if(!window.StoryCLMBridge){var c,s,f=[],u={},y=1,M="storyclm",g="SCLM_QUEUE";e(window.document),window.StoryCLMBridge={Invoke:o,GetQueue:r,StoryCLMHandler:i,GetNavigationData:a},StoryCLMBridge.Invoke("getNavigationData",{},function(e){try{var t=new StoryCLMApiMessage(e);s=t.data}catch(n){}})}}(),function(e){try{if(!window.StoryCLMBridge||!e)return;var t={};t.log=function(e){try{StoryCLMBridge.Invoke("consolelog",{log:e})}catch(t){}},t.info=function(e){try{StoryCLMBridge.Invoke("consoleinfo",{info:e})}catch(t){}},t.warn=function(e){try{StoryCLMBridge.Invoke("consolewarn",{warn:e})}catch(t){}},t.error=function(e){try{"undefined"!=typeof e.stack?StoryCLMBridge.Invoke("consoleerror",{error:e.stack}):StoryCLMBridge.Invoke("consoleerror",{error:arguments})}catch(t){}},window.console=t}catch(n){}}(!0);var StoryCLM={};StoryCLM.Go=function(e,t,n){try{if("string"!=typeof Name)return;StoryCLMBridge.Invoke("go",{slideName:e,data:t?t:""},function(e){"function"==typeof n&&n(new StoryCLMApiMessage(e))})}catch(o){}},StoryCLM.GetNavigationData=function(){},StoryCLM.System=function(){function e(e){StoryCLMBridge.Invoke("getAppInfo",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}return{GetInfo:e}}(),StoryCLM.Presentation=function(){function e(e,t,n,o){"number"==typeof PresId&&StoryCLMBridge.Invoke("open",{presId:e,slideName:t,data:n},function(e){"function"==typeof o&&o(new StoryCLMApiMessage(e))})}function t(e){StoryCLMBridge.Invoke("closePresentation",{})}function n(e){StoryCLMBridge.Invoke("setPresentationComplete",{})}function o(e){StoryCLMBridge.Invoke("getPresentationInfo",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}function r(e){StoryCLMBridge.Invoke("getPreviousSlide",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}function i(e){StoryCLMBridge.Invoke("getNextSlide",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}function a(e){StoryCLMBridge.Invoke("getBackForwardList",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}function c(e){StoryCLMBridge.Invoke("getBackForwardPresList",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}function s(e){StoryCLMBridge.Invoke("getMediaFiles",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}function f(e){StoryCLMBridge.Invoke("getPresentations",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}function u(e,t,n){"string"==typeof Name&&"number"==typeof t&&StoryCLMBridge.Invoke("openMediaFile",{id:t,name:e},function(e){"function"==typeof n&&n(new StoryCLMApiMessage(e))})}function y(e){StoryCLMBridge.Invoke("getMap",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}function M(e){StoryCLMBridge.Invoke("getCurrentSlideName",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}return{Open:e,OpenMediaFile:u,Close:t,GetInfo:o,GetPreviousSlide:r,GetNextSlide:i,GetBackForwardList:a,GetMediaFiles:s,GetPresentations:f,GetMap:y,GetCurrentSlideName:M,GetBackForwardPresList:c,SetComplete:n}}(),StoryCLM.User=function(){function e(e){StoryCLMBridge.Invoke("getUserInfo",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}return{Get:e}}(),StoryCLM.Geolocation=function(){function e(e){StoryCLMBridge.Invoke("getGeoLocationInfo",{},function(t){"function"==typeof e&&e(new StoryCLMApiMessage(t))})}return{Get:e}}(),StoryCLM.CustomEvents=function(){function e(e,t,n){"string"==typeof e&&"string"==typeof t&&StoryCLMBridge.Invoke("setCustomEvent",{key:e,value:t},function(e){"function"==typeof n&&n(new StoryCLMApiMessage(e))})}return{Set:e}}(),StoryCLM.UI=function(){function e(){StoryCLMBridge.Invoke("openMediaLibrary ",{},function(e){"function"==typeof callback&&callback(new StoryCLMApiMessage(e))})}function t(){StoryCLMBridge.Invoke("hideCloseBtn",{},function(e){"function"==typeof callback&&callback(new StoryCLMApiMessage(e))})}function n(){StoryCLMBridge.Invoke("hideMediaLibraryBtn",{},function(e){"function"==typeof callback&&callback(new StoryCLMApiMessage(e))})}function o(){StoryCLMBridge.Invoke("hideMapBtn",{},function(e){"function"==typeof callback&&callback(new StoryCLMApiMessage(e))})}function r(){StoryCLMBridge.Invoke("hideSystemBtns",{},function(e){"function"==typeof callback&&callback(new StoryCLMApiMessage(e))})}return{OpenMediaLibrary:e,HideCloseBtn:t,HideMediaLibraryBtn:n,HideMapBtn:o,HideSystemBtns:r}}();